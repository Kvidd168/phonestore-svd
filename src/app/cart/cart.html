<div class="container py-5 mt-5">
    <div class="row justify-content-center">
        <div class="col-12 ">
            <h3 class="mb-4 text-center">Shopping Cart</h3>
            <div class="table-responsive cart-table-container">
                <table class="table align-middle cart-table">
                    <thead >
                        <tr>
                            <th class="text-center" width="5%">#</th>
                            <th width="15%">Image</th>
                            <th width="30%">Product</th>
                            <th width="15%">Price</th>
                            <th width="20%">Quantity</th>
                            <th width="15%">Total</th>
                            <th class="text-center" width="10%">Action</th>
                        </tr>
                    </thead>
                    <tbody>
                        @for (cart of cartService.getCartList(); track cart.id; let i = $index) {
                            <tr>
                                <td class="text-center">{{ i + 1 }}</td>
                                <td>
                                    <img [src]="cart.image" width="150px" height="150px" 
                                        class="cart-image rounded-3" >

                                </td>
                                <td>
                                    <h6 class="product-title mb-0">{{ cart.title }}</h6>
                                </td>
                                <td class="price-column">{{ cart.price | currency }}</td>
                                <td>
                                    <div class="quantity-controls d-flex align-items-center gap-2">
                                        <button class="btn btn-outline-primary btn-sm qty-btn" 
                                                (click)="cartService.decreaseQty(cart)">
                                            <i class="bi bi-dash">-</i>
                                        </button>
                                        <span class="quantity-value">{{ cart.qty }}</span>
                                        <button class="btn btn-outline-primary btn-sm qty-btn" 
                                                (click)="cartService.increaseQty(cart)">
                                            <i class="bi bi-plus">+</i>
                                        </button>
                                    </div>
                                </td>
                                <td class="total-column fs-4">{{ (cart.price * cart.qty) | currency }}</td>
                                <td class="text-center">
                                    <button class="btn btn-outline-danger px-4 py-2" 
                                            (click)="cartService.removeFromCart(cart)">
                                        <i class="bi bi-trash">Delete</i>
                                    </button>
                                </td>
                            </tr>
                        }
                    </tbody>
                    <tfoot>
                        <tr>
                            <td colspan="5" class="text-end border-0">
                                <span class="text-muted">Total Amount:</span>
                            </td>
                            <td class="border-0">
                                <span class="total-price text-primary fs-4 total-column">{{ cartService.getTotalPrice() | currency }}</span>
                            </td>
                        </tr>
                    </tfoot>
                </table>
            </div>
            <div class="d-flex justify-content-end gap-3 mt-4">
                <button class="btn btn-danger px-4 py-2" (click)="cartService.clearCart()">Clear</button>
                <button class="btn btn-primary px-4 py-2 ">Checkout</button>
            </div>
        </div>
    </div>
</div>